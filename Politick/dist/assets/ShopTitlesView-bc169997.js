import{d as Y,r as d,G as I,a as i,o as c,c as r,g as l,b as t,w as a,e as n,F as C,l as S,t as f,J as $,j,u as N,z as U,p as E,f as G,h as H}from"./index-eab5ed3f.js";import{c as J,d as q}from"./shopController-b57c1d0c.js";const z=h=>(E("data-v-0409a071"),h=h(),G(),h),K={class:"titles"},M=z(()=>l("h2",null,"Titles",-1)),O={class:"main-content"},Q={class:"side",id:"left"},R={class:"top"},X={class:"pack-buttons"},Z={class:"side",id:"right"},ee={class:"top"},te={key:0},ae={key:0},se={class:"bottom"},oe={class:"prompt-left"},le=z(()=>l("h3",null,"Words in this pack:",-1)),ne={class:"prompt-right"},ue=Y({__name:"ShopTitlesView",setup(h){const g=d(),P=d(),k=d(),o=d();I.get("https://localhost:7060/Shop/FirstWordPacks").then(u=>{g.value=u.data,k.value=g.value}).catch(u=>{console.log(u)}),I.get("https://localhost:7060/Shop/SecondWordPacks").then(u=>{P.value=u.data}).catch(u=>{console.log(u)});const m=d(0);function W(u){u==0?(m.value=0,k.value=g.value):(m.value=1,k.value=P.value)}const v=d(!1),_=d(!1),y=d(!1);function A(){switch(m.value){case 0:if(q(o.value.contents,o.value.price)){_.value=!0,v.value=!1,setTimeout(()=>{_.value=!1},3e3);break}else{y.value=!0;break}case 1:if(J(o.value.contents,o.value.price)){_.value=!0,v.value=!1,setTimeout(()=>{_.value=!1},3e3);break}else{y.value=!0;break}}}return(u,s)=>{const p=i("v-btn"),x=i("v-divider"),D=i("v-card-actions"),b=i("v-card"),V=i("v-dialog"),T=i("v-card-title"),w=i("v-card-text"),L=i("router-link");return c(),r("div",K,[M,l("div",O,[l("div",Q,[l("div",R,[t(p,{onClick:s[0]||(s[0]=e=>W(0)),variant:m.value==0?"outlined":"text"},{default:a(()=>[n(" Title Packs - First Word ")]),_:1},8,["variant"]),t(p,{onClick:s[1]||(s[1]=e=>W(1)),variant:m.value==1?"outlined":"text"},{default:a(()=>[n(" Title Packs - Second Word ")]),_:1},8,["variant"])]),l("div",X,[(c(!0),r(C,null,S(k.value,e=>{var B,F;return c(),j(p,{key:e,onClick:ce=>o.value=e,disabled:((B=N(U))==null?void 0:B.unlockedTitleFirstWords.includes(e.contents[0]))||((F=N(U))==null?void 0:F.unlockedTitleSecondWords.includes(e.contents[0]))},{default:a(()=>[n(f(e.name),1)]),_:2},1032,["onClick","disabled"])}),128))])]),t(x,{vertical:""}),l("div",Z,[l("div",ee,[o.value?(c(),r("p",te,'"'+f(o.value.name)+'" Word Pack',1)):$("",!0)]),o.value?(c(),r("div",ae,[(c(!0),r(C,null,S(o.value.contents,e=>(c(),r("p",{key:e},f(e),1))),128))])):$("",!0),l("div",se,[t(p,{disabled:!o.value,onClick:s[2]||(s[2]=e=>v.value=!0)},{default:a(()=>[n("Buy Pack")]),_:1},8,["disabled"])])]),t(V,{class:"prompt",modelValue:v.value,"onUpdate:modelValue":s[5]||(s[5]=e=>v.value=e)},{default:a(()=>[t(b,{class:"prompt-card"},{default:a(()=>[l("div",oe,[le,(c(!0),r(C,null,S(o.value.contents,e=>(c(),r("p",{key:e},f(e),1))),128))]),t(x,{vertical:""}),l("div",ne,[l("p",null,' Are you sure you would like to buy the "'+f(o.value.name)+'" word pack for '+f(o.value.price)+" coins? ",1),t(D,null,{default:a(()=>[t(p,{onClick:s[3]||(s[3]=e=>A())},{default:a(()=>[n("Yes")]),_:1}),t(p,{onClick:s[4]||(s[4]=e=>v.value=!1)},{default:a(()=>[n("No")]),_:1})]),_:1})])]),_:1})]),_:1},8,["modelValue"]),t(V,{class:"confirmation",modelValue:_.value,"onUpdate:modelValue":s[6]||(s[6]=e=>_.value=e),width:"fit-content"},{default:a(()=>[t(b,null,{default:a(()=>[t(T,null,{default:a(()=>[n("Item purchased successfully!")]),_:1}),t(w,null,{default:a(()=>[n("You can go to your Customization page and put it on your Player Card!")]),_:1})]),_:1})]),_:1},8,["modelValue"]),t(V,{class:"confirmation",modelValue:y.value,"onUpdate:modelValue":s[7]||(s[7]=e=>y.value=e),width:"fit-content"},{default:a(()=>[t(b,null,{default:a(()=>[t(T,null,{default:a(()=>[n("Huh, something went wrong...")]),_:1}),t(w,null,{default:a(()=>[n("If this issue persists, please contact support.")]),_:1})]),_:1})]),_:1},8,["modelValue"])]),t(L,{to:"/dashboard/shop/"},{default:a(()=>[n("Back")]),_:1})])}}});const re=H(ue,[["__scopeId","data-v-0409a071"]]);export{re as default};
